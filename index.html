<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>PWA Starter</title>
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#3367D6"/>
  	<meta name="Description" content="PWA Starter by J-P Losier.">
    <!-- These styles should be the barest minimum to allow the page to initially render without shifting as it loads. -->
    <style media="screen">
      body { background: #ECEFF1; color: rgba(0,0,0,0.87); font-family: Roboto, Helvetica, Arial, sans-serif; margin: 0; padding: 0; }
      #main { background: white; padding: 32px 24px; border-radius: 3px; }
	   
      #load { color: black; text-align: center; font-size: 13px; }
     
    </style>
    <link rel="style" href="styles/main.css"/>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons"
      rel="stylesheet">
  </head>
  <body>
    <div id="main">
      <h1>PWA Starter by J-P Losier</h1>
      <p>This is an empty PWA. </p>
      <p>These are icons: <i class="material-icons">get_app</i> <i class="material-icons">menu</i></p>
    </div>
    <p id="load">Loading&hellip;</p>

    <script>
     /*
	    document.addEventListener('DOMContentLoaded', function() {
        
        try {
         
				 document.getElementById('load').innerHTML = `Loaded`;
        } catch (e) {
          console.error(e);
          document.getElementById('load').innerHTML = 'Error loading';
        }
      });
	    */
      document.getElementById('load').innerHTML = '';
      /*
      console.log('protocol is ' + location.protocol);
      console.log('location is ' + location.hostname + ':' + location.port + location.pathname + location.search);
      if(location.protocol=='http:'){
        document.location='https://' + location.hostname + ':' + location.port + location.pathname + location.search;
      }*/
    </script>
	<script>
		if ('serviceWorker' in navigator) {
		  window.addEventListener('load', function() {
			navigator.serviceWorker.register('service-worker.js').then(function(registration) {
			  // Registration was successful
			  console.log('ServiceWorker registration successful with scope: ', registration.scope);
			}, function(err) {
			  // registration failed :(
			  console.log('ServiceWorker registration failed: ', err);
			});
		  });
		}
  </script>
  <script src="scripts/localforage.min.js"></script>
  <script src="scripts/main.js" defer></script>
  </body>
</html>
